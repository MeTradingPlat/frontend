<mat-card
  class="scanner-card"
  appearance="outlined">
  <mat-card-header>
    <mat-card-title>{{ 'SCANNER.EXECUTION' | translate }}</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="timezone-info">
      <span class="timezone-label">⏰ Zona horaria: {{ timezoneAbbreviation() }} → UTC</span>
    </div>

    <mat-form-field appearance="outline">
      <mat-label>{{ 'SCANNER.START_TIME' | translate }}</mat-label>
      <input matInput [formControl]="startTime" [matTimepicker]="startPicker" [errorStateMatcher]="startTimeErrorMatcher">
      <mat-timepicker-toggle matIconSuffix [for]="startPicker"/>
      <mat-timepicker #startPicker/>
      @if (errors()['horaInicio']) {
        <mat-error>{{errors()['horaInicio']}}</mat-error>
      }
    </mat-form-field>

    @if (horaInicioLocal() && horaInicioUTC()) {
      <div class="time-conversion">
        <span class="local-time">{{ horaInicioLocal() }} {{ timezoneAbbreviation() }}</span>
        <span class="arrow">→</span>
        <span class="utc-time">{{ horaInicioUTC() }} UTC</span>
      </div>
    }

    <mat-form-field appearance="outline">
      <mat-label>{{ 'SCANNER.END_TIME' | translate }}</mat-label>
      <input matInput [formControl]="endTime" [matTimepicker]="endPicker" [errorStateMatcher]="endTimeErrorMatcher">
      <mat-timepicker-toggle matIconSuffix [for]="endPicker"/>
      <mat-timepicker #endPicker/>
      @if (errors()['horaFin']) {
        <mat-error>{{errors()['horaFin']}}</mat-error>
      }
    </mat-form-field>

    @if (horaFinLocal() && horaFinUTC()) {
      <div class="time-conversion">
        <span class="local-time">{{ horaFinLocal() }} {{ timezoneAbbreviation() }}</span>
        <span class="arrow">→</span>
        <span class="utc-time">{{ horaFinUTC() }} UTC</span>
      </div>
    }

    <mat-form-field appearance="outline">
      <mat-label>{{ 'SCANNER.EXECUTION_TYPE' | translate }}</mat-label>
      <mat-select [formControl]="selectEjecution">
        <mat-option value="UNA_VEZ">{{ 'SCANNER.ONCE' | translate }}</mat-option>
        <mat-option value="DIARIA">Todos los días</mat-option>
      </mat-select>
    </mat-form-field>
  </mat-card-content>
</mat-card>
